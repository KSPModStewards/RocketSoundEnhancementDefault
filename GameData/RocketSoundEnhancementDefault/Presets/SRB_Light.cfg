@PART[*]:HAS[@RSE_PRESET[SRB_Light]:HAS[~processed[*]]]:AFTER[zRocketSoundEnhancementDefault]:NEEDS[RocketSoundEnhancement]
{
    MODULE
	{
		name = RSE_Engines
		volume = #$/RSE_PRESET[SRB_Light]:HAS[~processed[*]]/volume$

		AIRSIMULATION
		{
			AngleHighpass = 150
			MaxCombMix = 0.25
		}

        SOUNDLAYERGROUP
        {
            name = #$/RSE_PRESET[SRB_Light]:HAS[~processed[*]]/engineID$

			SOUNDLAYER
			{
				name = ThrustHigh
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Light-High
				loop = true
				spread = 0.30
				
				volume = 0.0 0.0
				volume = 0.25 0.0
				volume = 1.0 1.0
				
				pitch = #$/RSE_PRESET[SRB_Light]:HAS[~processed[*]]/pitch$
			}
			
			SOUNDLAYER
			{
				name = ThrustLow
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Light-Low
				loop = true
				spread = 0.30
				
				volume = 0.0 0.0
				volume = 0.25 1.0
				volume = 1.0 0.0
				
				pitch = #$/RSE_PRESET[SRB_Light]:HAS[~processed[*]]/pitch$
			}
        }

		Burst
		{
			SOUNDLAYER
			{
				name = Bursts
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Burst_Light-1
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Burst_Light-2
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Burst_Light-3
				spread = 0.30

				volume = 1.0
				pitch = #$/RSE_PRESET[SRB_Light]:HAS[~processed[*]]/pitch$
			}
		}

		Flameout
		{
			SOUNDLAYER
			{
				name = FlameOut
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/Liquid_Burst-1
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/Liquid_Burst-2
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/Liquid_Burst-3
				
				spread = 0.30
				
				volume = 1.0
				pitch = #$/RSE_PRESET[SRB_Light]:HAS[~processed[*]]/pitch$
				@pitch *= 0.75
			}
		}
    }

	@RSE_PRESET[SRB_Light]:HAS[~processed[*]]
    {
        processed = true
    }
}

@PART[*]:HAS[@RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]]:AFTER[zRocketSoundEnhancementDefault]:NEEDS[RocketSoundEnhancement]
{
    MODULE
	{
		name = RSE_Engines
		volume = #$/RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]/volume$

		AIRSIMULATION
		{
			AngleHighpass = 150
			MaxCombMix = 0.25
		}

        SOUNDLAYERGROUP
        {
            name = #$/RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]/engineID$

			SOUNDLAYER
			{
				name = Thrust
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Light-High
				loop = true
				spread = 0.30
				
				volume = 0.0 0.0
				volume = 0.25 0.0
				volume = 1.0 1.0

				pitch = 0.25 0.875
				pitch = 1.0 1.00
				
				@pitch,0[1, ] *= #$/RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]/pitch$
				@pitch,1[1, ] *= #$/RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]/pitch$
			}
        }

		Burst
		{
			SOUNDLAYER
			{
				name = Bursts
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Burst_Light-1
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Burst_Light-2
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/SRB_Burst_Light-3
				spread = 0.30

				volume = 1.0
				pitch = #$/RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]/pitch$
			}
		}

		Flameout
		{
			SOUNDLAYER
			{
				name = FlameOut
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/Liquid_Burst-1
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/Liquid_Burst-2
				audioClip = RocketSoundEnhancementDefault/Sounds/Engines/Liquid_Burst-3
				
				spread = 0.30
				
				volume = 1.0
				pitch = #$/RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]/pitch$
				@pitch *= 0.75
			}
		}
    }

	@RSE_PRESET[SRB_Light_1]:HAS[~processed[*]]
    {
        processed = true
    }
}